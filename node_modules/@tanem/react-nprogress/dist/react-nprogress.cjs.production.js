"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _objectWithoutPropertiesLoose=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),_extends=require("@babel/runtime/helpers/extends"),React=require("react"),reactUse=require("react-use"),hoistNonReactStatics=require("hoist-non-react-statics");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var handle,_objectWithoutPropertiesLoose__default=_interopDefaultLegacy(_objectWithoutPropertiesLoose),_extends__default=_interopDefaultLegacy(_extends),React__namespace=_interopNamespace(React),hoistNonReactStatics__default=_interopDefaultLegacy(hoistNonReactStatics),clamp=function(e,t,n){return e=(e=e<=n?e:n)>=t?e:t},increment=function(e){var t=0;return e>=0&&e<.2?t=.1:e>=.2&&e<.5?t=.04:e>=.5&&e<.8?t=.02:e>=.8&&e<.99&&(t=.005),clamp(e+t,0,.994)},isRunning=!1,pending=[],next=function e(){isRunning=!0;var t=pending.shift();if(t)return t(e);isRunning=!1},clear=function(){isRunning=!1,pending=[]},queue=function(e){pending.push(e),isRunning||1!==pending.length||next()},cancel=function(){handle&&window.cancelAnimationFrame(handle)},timeout=function(e,t){var n;handle=window.requestAnimationFrame((function i(r){r-(n=n||r)>t?e():handle=window.requestAnimationFrame(i)}))},noop=function(){},initialState={isFinished:!0,progress:0,sideEffect:noop},cleanup=function(){cancel(),clear()},useNProgress=function(e){var t=void 0===e?{}:e,n=t.animationDuration,i=void 0===n?200:n,r=t.incrementDuration,u=void 0===r?800:r,o=t.isAnimating,s=void 0!==o&&o,c=t.minimum,a=void 0===c?.08:c,f=reactUse.useGetSetState(initialState),d=f[0],l=f[1],p=React.useCallback((function(e){if(1===(e=clamp(e,a,1)))return cleanup(),queue((function(t){l({progress:e,sideEffect:function(){return timeout(t,i)}})})),void queue((function(){l({isFinished:!0,sideEffect:cleanup})}));queue((function(t){l({isFinished:!1,progress:e,sideEffect:function(){return timeout(t,i)}})}))}),[i,a,l]),_=React.useCallback((function(){p(increment(d().progress))}),[d,p]),g=React.useCallback((function(){!function e(){_(),queue((function(t){timeout((function(){e(),t()}),u)}))}()}),[u,_]),h=React.useRef(noop),m=d().sideEffect;return React.useEffect((function(){h.current=_})),reactUse.useEffectOnce((function(){return s&&g(),cleanup})),reactUse.useUpdateEffect((function(){d().sideEffect()}),[d,m]),reactUse.useUpdateEffect((function(){s?l(_extends__default.default({},initialState,{sideEffect:g})):p(1)}),[s,p,l,g]),{animationDuration:i,isFinished:d().isFinished,progress:d().progress}},_excluded=["children"],NProgress=function(e){var t=e.children,n=_objectWithoutPropertiesLoose__default.default(e,_excluded);return t(useNProgress(n))};function withNProgress(e){var t=function(t){var n=useNProgress(t);return React__namespace.createElement(e,_extends__default.default({},t,n))};return hoistNonReactStatics__default.default(t,e),t}exports.NProgress=NProgress,exports.useNProgress=useNProgress,exports.withNProgress=withNProgress;
//# sourceMappingURL=react-nprogress.cjs.production.js.map
